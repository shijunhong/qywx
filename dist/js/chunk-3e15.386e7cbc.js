(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e15"],{"3da1":function(t,e,s){},5281:function(t,e,s){"use strict";var a=s("f338"),i=s.n(a);i.a},"582c":function(t,e,s){},"72df":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"customer",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"0"}},[s("tap",{attrs:{tap1:"我的邀请",tap2:"员工排行"},on:{change:t.change}},[s("newest",{attrs:{slot:"tap1",statistics:t.s1,list:t.d1,p:t.p1},slot:"tap1"}),s("range-page",{attrs:{slot:"tap2",statistics:t.s2,list:t.d2,p:t.p2},slot:"tap2"})],1),s("bottom")],1)},i=[];function n(t){if(Array.isArray(t)){for(var e=0,s=new Array(t.length);e<t.length;e++)s[e]=t[e];return s}}function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){return n(t)||o(t)||r()}s("cadf"),s("551c"),s("097d");var u=s("cc36"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"statistics"},[s("p",{staticClass:"title item-1 statistics-item"},[t._v("邀请客户数")]),s("p",{staticClass:"item-2 statistics-item"},[s("span",[t._v("本周："+t._s(t.statistics.weekCount))]),s("span",[t._v("当月："+t._s(t.statistics.monthCount))])]),s("div",{staticClass:"item-3 statistics-item"},[s("p",{staticClass:"sub-title"},[t._v("今日邀请")]),s("p",{staticClass:"num"},[t._v(t._s(t.statistics.todayCount))])])]),s("p",{staticClass:"title"},[t._v("最新邀请客户")]),s("ul",{staticClass:"list"},t._l(t.list,function(e,a){return s("li",{key:a,staticClass:"list-item"},[s("p",{staticClass:"list-item-left"},[t._v(t._s(e.client_name))]),s("p",{staticClass:"list-item-ritht"},[s("span",{staticClass:"name"},[t._v(t._s(e.contact_name))]),s("span",{staticClass:"date"},[t._v(t._s(e.register_date))])])])})),t.showLoadBottm?s("load-bottom"):t._e(),t.nodata?s("load-bottom",{attrs:{content:"你还未邀请到客户"}}):t._e()],1)},l=[],d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"tip"},[t._v(t._s(t.content))])])},h=[],f={name:"loadbottom",props:{content:{type:String,default:function(){return"没有更多了..."}}},mounted:function(){}},g=f,m=(s("7922"),s("2877")),v=Object(m["a"])(g,d,h,!1,null,"1c504082",null);v.options.__file="LoadBottom.vue";var _=v.exports,C={props:{statistics:{type:Object,required:!0},list:{type:Array,required:!0},p:{type:Object,required:!0}},components:{LoadBottom:_},computed:{showLoadBottm:function(){return this.p.page>this.p.last_page&&0!=this.p.last_page},nodata:function(){return 0==this.p.last_page}}},A=C,b=(s("d567"),Object(m["a"])(A,p,l,!1,null,"3d4abaf6",null));b.options.__file="newest.vue";var x=b.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"statistics"},[a("p",{staticClass:"title item-1 statistics-item"},[t._v("邀请客户数")]),a("p",{staticClass:"item-2 statistics-item"},[a("span",[t._v("本周："+t._s(t.statistics.weekCount))]),a("span",[t._v("当月："+t._s(t.statistics.monthCount))])]),a("div",{staticClass:"item-3 statistics-item"},[a("p",{staticClass:"sub-title"},[t._v("今日邀请")]),a("p",{staticClass:"num"},[t._v(t._s(t.statistics.todayCount))])])]),a("p",{staticClass:"title"},[t._v("员工月邀请排行")]),a("ul",{staticClass:"list"},t._l(t.list,function(e,i){return a("li",{key:i,staticClass:"list-item"},[a("p",{staticClass:"list-item-left"},[0==i?a("img",{staticClass:"icon",attrs:{src:s("d1a3"),alt:""}}):t._e(),0!=i?a("span",{class:{num1:1==i||2==i,num2:i>2}},[t._v(t._s(i+1))]):t._e(),a("span",{staticClass:"name"},[t._v(t._s(e.staff_name))])]),a("p",{staticClass:"list-item-ritht"},[a("span",{staticClass:"total"},[t._v(t._s(e.inviteCount))])])])})),t.showLoadBottm?a("load-bottom"):t._e(),t.nodata?a("load-bottom",{attrs:{content:"暂无内容"}}):t._e()],1)},y=[],k={props:{statistics:{type:Object,required:!0},list:{type:Array,required:!0},p:{type:Object,required:!0}},components:{LoadBottom:_},computed:{showLoadBottm:function(){return this.p.page>this.p.last_page&&0!=this.p.last_page},nodata:function(){return 0==this.p.last_page}}},S=k,O=(s("c532a"),Object(m["a"])(S,w,y,!1,null,"4b1581dc",null));O.options.__file="range.vue";var j=O.exports,I=s("bf34"),L=s("751a");function B(){return Object(L["a"])({url:"/api/zntk/v1/staff/invite-statistics",method:"get"})}function Y(){return Object(L["a"])({url:"/api/zntk/v1/staff/invite-rank-statistics",method:"get"})}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return Object(L["a"])({url:"/api/zntk/v1/staff/invite",method:"get",params:{page:t,pageSize:e}})}function X(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return Object(L["a"])({url:"/api/zntk/v1/staff/invite-rank",method:"get",params:{page:t,pageSize:e}})}var q={components:{Tap:u["a"],newest:x,rangePage:j,Bottom:I["a"]},mounted:function(){var t=this;B().then(function(e){"T"===e.status&&(t.s1.todayCount=e.data.todayCount,t.s1.weekCount=e.data.weekCount,t.s1.monthCount=e.data.monthCount)}),Y().then(function(e){"T"===e.status&&(t.s2.todayCount=e.data.todayCount,t.s2.weekCount=e.data.weekCount,t.s2.monthCount=e.data.monthCount)})},data:function(){return{index:1,s1:{todayCount:0,weekCount:0,monthCount:0},s2:{todayCount:0,weekCount:0,monthCount:0},p1:{page:1,pageSize:10,last_page:1},p2:{page:1,pageSize:10,last_page:1},d1:[],d2:[],first:!0}},methods:{change:function(t){this.index=t},getData1:function(){var t=this;this.p1.page>this.p1.last_page||E(this.p1.page,this.p1.pageSize).then(function(e){"T"===e.status&&(t.d1=c(t.d1).concat(c(e.data)),t.p1.last_page=e.pagination.last_page,t.p1.page++)})},getData2:function(){var t=this;this.p2.page>this.p2.last_page||X(this.p2.page,this.p2.pageSize).then(function(e){"T"===e.status&&(t.d2=c(t.d2).concat(c(e.data)),t.p2.last_page=e.pagination.last_page,t.p2.page++)})},loadMore:function(){if(this.first)return this.getData1(),this.getData2(),void(this.first=!1);1===this.index&&this.getData1(),2===this.index&&this.getData2()}}},z=q,D=Object(m["a"])(z,a,i,!1,null,null,null);D.options.__file="customer.vue";e["default"]=D.exports},"751a":function(t,e,s){"use strict";s("96cf");var a=s("3040"),i=(s("cadf"),s("551c"),s("097d"),s("db49")),n=s("bc3a"),o=s.n(n),r=s("a18c"),c=s("76a0"),u=(s("56d7"),s("7155")),p=o.a.create({baseURL:"".concat(i["a"]),timeout:6e4});p.interceptors.request.use(function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(sessionStorage.getItem("expires")&&sessionStorage.getItem("expires")-(new Date).getTime()/1e3<300)){t.next=8;break}return t.next=3,Object(u["b"])(e);case 3:return e=t.sent,c["Indicator"].open({text:"加载中...",spinnerType:"fading-circle"}),t.abrupt("return",e);case 8:return sessionStorage.getItem("access_token")&&(e.headers["Authorization"]="Bearer "+sessionStorage.getItem("access_token")),c["Indicator"].open({text:"加载中...",spinnerType:"fading-circle"}),t.abrupt("return",e);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),function(t){c["Indicator"].close(),Promise.reject(t)}),p.interceptors.response.use(function(t){var e=t.data;return c["Indicator"].close(),e},function(t){if(t.response){if(401==t.response.status){c["Indicator"].close();var e=t.response.data.error.message;if(e.startWith("qywx_application_expried"))return void r["a"].push("/expire");if(e.startWith("qywx_application_not_enable"))return void r["a"].push("/expire");if(e.startWith("invalid_credentials"))return sessionStorage.clear(),void r["a"].push("/login");if(e.startWith("access_denied"))return void Object(u["b"])();r["a"].push("/noauth")}c["Indicator"].close()}else c["Indicator"].close();return Promise.resolve(t.response.data)}),e["a"]=p},7922:function(t,e,s){"use strict";var a=s("3da1"),i=s.n(a);i.a},7957:function(t,e,s){},afdc:function(t,e,s){},bf34:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottom"},t._l(t.taps,function(e){return s("div",{key:e.name,staticClass:"bottom-item",on:{click:function(s){t.handleClick(e.url)}}},[t._v(t._s(e.name))])}))},i=[],n={data:function(){return{taps:[{name:"邀请客户",url:"/invite"},{name:"获客统计",url:"/customer"}]}},methods:{handleClick:function(t){this.$router.push(t)}},mounted:function(){}},o=n,r=(s("5281"),s("2877")),c=Object(r["a"])(o,a,i,!1,null,"74f34760",null);c.options.__file="Bottom.vue";e["a"]=c.exports},c532a:function(t,e,s){"use strict";var a=s("afdc"),i=s.n(a);i.a},cc36:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tap",on:{touchstart:t.start,touchend:t.end}},[s("div",{staticClass:"tap-head"},[s("div",{staticClass:"tap-item",class:{active:1===t.index},on:{click:function(e){t.handleClick(1)}}},[s("span",[t._v(t._s(t.tap1))]),s("span",{directives:[{name:"show",rawName:"v-show",value:1===t.index,expression:"index === 1"}],staticClass:"line"})]),s("div",{staticClass:"tap-item",class:{active:2===t.index},on:{click:function(e){t.handleClick(2)}}},[s("span",[t._v(t._s(t.tap2))]),s("span",{directives:[{name:"show",rawName:"v-show",value:2===t.index,expression:"index === 2"}],staticClass:"line"})])]),t._t("default"),1===t.index?t._t("tap1"):t._e(),2===t.index?t._t("tap2"):t._e()],2)},i=[],n=(s("c5f6"),s("cadf"),s("551c"),s("097d"),{name:"tap",props:{tap_index:{type:Number},tap1:{type:String,required:!0},tap2:{type:String,required:!0},isRefresh:{type:Boolean,default:function(){return!1}}},data:function(){return{index:1,pageX:0,pageY:0,pageXend:0,pageYend:0}},beforeMount:function(){if(sessionStorage.removeItem("refresh"),this.tap_index)this.index=this.tap_index;else{var t=sessionStorage.getItem("tap_index");t&&(this.index=Number(t),this.change())}},mounted:function(){},methods:{change:function(){this.$emit("change",this.index)},setStorage:function(){sessionStorage.setItem("tap_index",this.index)},handleClick:function(t){this.index=t,this.setStorage(),this.change()},start:function(t){this.pageX=t.touches[0].pageX,this.pageY=t.touches[0].pageY},slide:function(){Math.abs(this.pageX-this.pageXend)>120&&(this.pageX>this.pageXend?this.index>1&&(this.index=this.index-1,this.setStorage(),this.change()):this.index<2&&(this.index=this.index+1,this.setStorage(),this.change()))},refresh:function(){this.isRefresh&&this.pageY-this.pageYend>150&&(sessionStorage.setItem("refresh","true"),this.$router.go(0))},end:function(t){this.pageXend=t.changedTouches[0].pageX,this.pageYend=t.changedTouches[0].pageY,this.slide(),this.refresh()}}}),o=n,r=(s("d367"),s("2877")),c=Object(r["a"])(o,a,i,!1,null,"8d799fbe",null);c.options.__file="Tap.vue";e["a"]=c.exports},d1a3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAyMDE4LjguOVFm2hUAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAABuElEQVRYhdWXPW7CQBBGn6P0UEWigpwAJB8gnGTxBSLRuMY95V4gykl8AQQpUgfSRErFCZgUGLLGXrPGy9/X2N6dnX3+LI/HATcmEcldP3hNrlUkcRj5zPnoMxmQZMc3Xwm9OShaRUAX6Pp00ecjHlvOG8kLoGg1BPrGUF/icOgjty8HE8ex2moMmLn3UjL14sNFHw5GJ845KWiyWLTqAV+5we/Pw7DnYDpbnpRfpLGDiacYq/aAotVCtBq4LszcGzmEjiQOe85543AgcbgoAAJtYC5aJY65ItdNXWMlDhNgnrEAecAd9eSYm6JVm3rFeCxx2LZNGq5NDlhKAWFbdKvcHAOtGoAtLDdkuGYW+lLAtGS9zc1TPmW5NSWumdqz2Bw0lXMzawrquLdTa9dEWFwztWfJ1UHRasm2I7HpA3gCOtaIYh009QP8VoABrILprAfbOnjYDy6OAFYldlGHqpv7Z9jrsFDbHvMlVQmYXo7DqtS8uC8Hg9f3NbC6KE5eq2A6W5sDZc3CNV0s7H2XgOn5Oawq7H1/Dl7xRSm8IGD/J7mGi6V73i1gCmzOhlLUhtv4itWTiPAHhb+bnI5Tgl0AAAAASUVORK5CYII="},d367:function(t,e,s){"use strict";var a=s("7957"),i=s.n(a);i.a},d567:function(t,e,s){"use strict";var a=s("582c"),i=s.n(a);i.a},f338:function(t,e,s){}}]);
//# sourceMappingURL=chunk-3e15.386e7cbc.js.map